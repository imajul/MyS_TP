#include "xparameters.h"
#include "xil_io.h"
#include "encoder_ip.h"
 

//====================================================

int main (void) {

	int posicion, direccion;

    xil_printf("-- Inicio del programa para validar el uso de IP cores propios --\r\n");
 
   // SUM_IP_mWriteReg(XPAR_SUM_IP_S_AXI_BASEADDR, SUM_IP_S_AXI_SLV_REG0_OFFSET, opA);
   // SUM_IP_mWriteReg(XPAR_SUM_IP_S_AXI_BASEADDR, SUM_IP_S_AXI_SLV_REG1_OFFSET, opB);
    direccion = ENCODER_IP_mReadReg(XPAR_ENCODER_IP_S_AXI_BASEADDR, ENCODER_IP_S_AXI_SLV_REG0_OFFSET);
    posicion = ENCODER_IP_mReadReg(XPAR_ENCODER_IP_S_AXI_BASEADDR, ENCODER_IP_S_AXI_SLV_REG1_OFFSET);

   while(1)
   {
	   xil_printf("Posicion: %d Direccion %d", posicion, direccion);
	   sleep(1);
   }
 
}
 
